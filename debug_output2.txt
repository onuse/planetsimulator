Starting Octree Planet Simulator...
autoAdjustClipPlanes called with altitude=29000
autoAdjustClipPlanes result: near=10, far=2.9e+06
updateProjection called: near=10, far=2.9e+06
Camera constructor: altitude=29000, near=10, far=2.9e+06
updateProjection called: near=10, far=2.9e+06
Octree Planet Simulator (C++ Version)
=====================================
Radius: 6.371e+06 meters
Max Depth: 10
Seed: 42
Resolution: 1280x720
Starting initialization...
=== INIT FUNCTION CALLED ===
Generating planet...
Generating sphere structure...
Planet radius: 6.371e+06 meters
Root node half-size: 9.5565e+06 meters
Setting materials for leaf at depth 4 center=(-2.98641e+06,-4.18097e+06,-5.37553e+06) size=597281
    Node center=(-2.98641e+06,-4.18097e+06,-5.37553e+06) halfSize=597281
    Voxel offset=(-298641,-298641,-298641)
    Voxel pos=(-3.28505e+06,-4.47961e+06,-5.67417e+06) dist=7.9407e+06
    Planet radius=6.371e+06
Setting materials for leaf at depth 4 center=(-4.18097e+06,-2.98641e+06,-5.37553e+06) size=597281
    Node center=(-4.18097e+06,-2.98641e+06,-5.37553e+06) halfSize=597281
    Voxel offset=(-298641,-298641,-298641)
    Voxel pos=(-4.47961e+06,-3.28505e+06,-5.67417e+06) dist=7.9407e+06
    Planet radius=6.371e+06
Setting materials for leaf at depth 5 center=(-3.28505e+06,-3.28505e+06,-5.67417e+06) size=298641
    Node center=(-3.28505e+06,-3.28505e+06,-5.67417e+06) halfSize=298641
    Voxel offset=(-149320,-149320,-149320)
    Voxel pos=(-3.43437e+06,-3.43437e+06,-5.82349e+06) dist=7.58306e+06
    Planet radius=6.371e+06
Setting materials for leaf at depth 5 center=(-2.68777e+06,-3.28505e+06,-5.67417e+06) size=298641
Setting materials for leaf at depth 5 center=(-3.28505e+06,-2.68777e+06,-5.67417e+06) size=298641
Setting materials for leaf at depth 6 center=(-2.83709e+06,-2.83709e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.53845e+06,-2.83709e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.83709e+06,-2.53845e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.53845e+06,-2.53845e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.83709e+06,-2.83709e+06,-5.52485e+06) size=149320
  Continent value range: [0.294055, 0.355255]
Generated 5939984 leaf nodes (3502856 with surface material)
Planet generation complete (simplified)
Planet generated successfully
Initializing Vulkan renderer...
Hierarchical GPU octree rendering enabled
Found NVIDIA GPU: NVIDIA GeForce RTX 3070 Laptop GPU
Selected GPU: NVIDIA GeForce RTX 3070 Laptop GPU
Creating material table buffer...
Material table buffer created with 512 bytes
Creating Transvoxel triangle mesh pipeline...
Creating triangle mesh pipeline...
Loaded triangle shaders: vert=2100 bytes, frag=1760 bytes
Created shader modules successfully
Pipeline creation returned: 0, handle: 0x2245c41d6c0
Triangle mesh pipeline created, handle=0x2245c41d6c0
Transvoxel pipeline created successfully
Creating Transvoxel descriptor sets...
Transvoxel descriptor sets created successfully
Vulkan renderer initialized successfully
=== ABOUT TO REPOSITION CAMERA ===
Initial distance: 1.01936e+07
=== CALLING autoAdjustClipPlanes with altitude=3.51206e+06 ===
autoAdjustClipPlanes called with altitude=3.51206e+06
autoAdjustClipPlanes result: near=3512.06, far=7.02412e+06
updateProjection called: near=3512.06, far=7.02412e+06
=== DONE CALLING autoAdjustClipPlanes ===
Camera positioned at: (7.13552e+06, 3.05808e+06, 6.11616e+06)
Near plane: 3512.06, Far plane: 7.02412e+06
Initialization complete, entering main loop...
Entering render loop...
DEBUG: Starting main loop, auto-terminate=0, screenshot-interval=0
DEBUG: Frame 0, elapsed=3.9e-06s, shouldExit=0
=== ABOUT TO CALL renderer.render, frame=0, near=3512.06, far=7.02412e+06 ===
updateProjection called: near=0.1, far=50000
updateProjection called: near=0.1, far=50000

=== CAMERA DEBUG ===
Camera position: (7.13552e+06, 3.05808e+06, 6.11616e+06)
Test sphere at: (3.5e+06, 1.5e+06, 3e+06)
Test cube at: (3.8e+06, 1.5e+06, 3e+06)
Distance from camera to sphere: 5.03538e+06m
Distance from camera to cube: 4.82325e+06m
Test meshes created: Sphere with 561 vertices, Cube with 24 vertices
Chunks marked as dirty for GPU buffer generation
Created GPU buffers for test mesh with 561 vertices
Created GPU buffers for test mesh with 24 vertices
[CHUNK DEBUG] Total: 2, AlreadyValid: 0, Generated: 2, NewValid: 2, FinalValid: 2
FATAL ERROR: Degenerate viewProj matrix, determinant = 0
ViewProj matrix:
  [0.634052, 0.406918, -0.721998, -0.721995]
  [0, -1.64705, -0.309428, -0.309426]
  [-0.739728, 0.348787, -0.618855, -0.618853]
  [0.487139, 0.216506, 9.8831e+06, 9.88306e+06]
