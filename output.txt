Starting Octree Planet Simulator...
Camera constructor: altitude=29000, near=10, far=2.9e+06
Octree Planet Simulator (C++ Version)
=====================================
Radius: 6.371e+06 meters
Max Depth: 10
Seed: 42
Resolution: 1280x720
Auto-terminate: 2 seconds
Screenshots: every 1 seconds
Starting initialization...
=== INIT FUNCTION CALLED ===
Cleaned up 1 old screenshots from C:\Users\glimm\Documents\Projects\planetsimulator\screenshot_dev
Generating planet...
Generating sphere structure...
Planet radius: 6.371e+06 meters
Root node half-size: 9.5565e+06 meters
Setting materials for leaf at depth 4 center=(-2.98641e+06,-4.18097e+06,-5.37553e+06) size=597281
    Node center=(-2.98641e+06,-4.18097e+06,-5.37553e+06) halfSize=597281
    Voxel offset=(-298641,-298641,-298641)
    Voxel pos=(-3.28505e+06,-4.47961e+06,-5.67417e+06) dist=7.9407e+06
    Planet radius=6.371e+06
Setting materials for leaf at depth 4 center=(-4.18097e+06,-2.98641e+06,-5.37553e+06) size=597281
    Node center=(-4.18097e+06,-2.98641e+06,-5.37553e+06) halfSize=597281
    Voxel offset=(-298641,-298641,-298641)
    Voxel pos=(-4.47961e+06,-3.28505e+06,-5.67417e+06) dist=7.9407e+06
    Planet radius=6.371e+06
Setting materials for leaf at depth 5 center=(-3.28505e+06,-3.28505e+06,-5.67417e+06) size=298641
    Node center=(-3.28505e+06,-3.28505e+06,-5.67417e+06) halfSize=298641
    Voxel offset=(-149320,-149320,-149320)
    Voxel pos=(-3.43437e+06,-3.43437e+06,-5.82349e+06) dist=7.58306e+06
    Planet radius=6.371e+06
Setting materials for leaf at depth 5 center=(-2.68777e+06,-3.28505e+06,-5.67417e+06) size=298641
Setting materials for leaf at depth 5 center=(-3.28505e+06,-2.68777e+06,-5.67417e+06) size=298641
Setting materials for leaf at depth 6 center=(-2.83709e+06,-2.83709e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.53845e+06,-2.83709e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.83709e+06,-2.53845e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.53845e+06,-2.53845e+06,-5.82349e+06) size=149320
Setting materials for leaf at depth 6 center=(-2.83709e+06,-2.83709e+06,-5.52485e+06) size=149320
  Continent value range: [0.294055, 0.355255]
Generated 5939984 leaf nodes (3502856 with surface material)
Planet generation complete (simplified)
Planet generated successfully
Initializing Vulkan renderer...
Hierarchical GPU octree rendering enabled
Found NVIDIA GPU: NVIDIA GeForce RTX 3070 Laptop GPU
Selected GPU: NVIDIA GeForce RTX 3070 Laptop GPU
Creating material table buffer...
Material table buffer created with 512 bytes
Creating Transvoxel triangle mesh pipeline...
Creating triangle mesh pipeline...
Loaded triangle shaders: vert=2604 bytes, frag=7456 bytes
Created shader modules successfully
Pipeline creation returned: 0, handle: 0x2b108e45110
Triangle mesh pipeline created, handle=0x2b108e45110
Transvoxel pipeline created successfully
Creating Transvoxel descriptor sets...
Transvoxel descriptor sets created successfully
Creating Quadtree LOD pipeline...
Loaded quadtree shaders: vert=11596 bytes, frag=7896 bytes
Quadtree pipeline created successfully
Creating Quadtree descriptor sets...
Quadtree descriptor sets created successfully
Vulkan renderer initialized successfully
=== ABOUT TO REPOSITION CAMERA ===
Initial distance: 1.01936e+07
=== CALLING autoAdjustClipPlanes with altitude=3.51206e+06 ===
=== DONE CALLING autoAdjustClipPlanes ===
Camera positioned at: (7.13552e+06, 3.05808e+06, 6.11616e+06)
Near plane: 3512.06, Far plane: 7.02412e+06
Initialization complete, entering main loop...
Entering render loop...
DEBUG: Starting main loop, auto-terminate=2, screenshot-interval=1
DEBUG: Frame 0, elapsed=4.6e-06s, shouldExit=0
[LODManager] Initializing with planet radius: 6.371e+06, seed: 42
[SphericalQuadtree] Creating with planet radius: 6.371e+06
Generating sphere structure...
Planet radius: 6.371e+06 meters
Root node half-size: 9.5565e+06 meters
Generated 5939984 leaf nodes (3502856 with surface material)
Planet generation complete (simplified)
[LODManager] Initialization complete. Created base mesh with 4096 vertices and 23814 indices
[LODManager] Altitude: 3.51206e+06m, Mode: QUADTREE
[SphericalQuadtree::update] ViewPos: 9.88306e+06, Roots: 6
DEBUG: Camera matrices on first frame:
  Camera position: (7.13552e+06, 3.05808e+06, 6.11616e+06)
  ViewProj[0]: 0.477072, 0.306172, -0.722717, -0.721995
  ViewProj[1]: 0, -1.23927, -0.309736, -0.309426
  ViewProj[2]: -0.556584, 0.262433, -0.619472, -0.618853
  ViewProj[3]: 0.366532, 0.162903, 9.88592e+06, 9.88306e+06
  Test vertex (4.47058e+06, 4.53487e+06, 14112) -> (2.12493e+06, -4.24745e+06, 5.24161e+06, w=5.24339e+06)
  After perspective divide: (0.405259, -0.810058, 0.99966)
[LODManager::render] Mode: 0, Instances: 6, Indices: 23814
DEBUG: Frame 1, elapsed=2.22333s, shouldExit=0
Auto-terminating after 2.22333 seconds
